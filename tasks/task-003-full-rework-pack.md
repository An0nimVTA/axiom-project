# Full Plugin Rework Pack

## Goal
Полная переработка плагина AXIOM под военно‑политический‑индустриальный сервер.

## Context
Ключевая архитектура ядра уже введена. Дальше требуется переработать доменные системы и привести их к единой модели и циклу прогресса.

## Docs
- `tasks/task-001-plugin-rework.md`
- `tasks/task-002-architecture-core.md`
- `axiom-plugin/docs/ARCHITECTURE_CORE.md`
- `axiom-plugin/docs/TERRITORY_UI_REWORK.md`
- `KEY_DOCS.md`

## Scope
- Нации и территория
- Политика/дипломатия/союзы
- Экономика и валюта
- Индустрия/производственные цепочки
- Ресурсы и логистика
- Технологии (дерево)
- Война/армии/боёвка
- Баланс/рецепты/прогресс
- Команды/права/админка
- Автотесты/отчёты

## Work Packages
- WP-01: Согласовать доменные модели и персистентность (Nation, Territory, Economy, Tech).
- WP-02: Переработать экономику и индустрию, согласовать цепочки ресурсов.
- WP-03: Переработать политику и дипломатию, формализовать договоры и союзы.
- WP-04: Переработать войну и конфликтные состояния, связать с территориями.
- WP-05: Переработать тех‑дерево и прогрессию (этапы, эффекты, требования).
- WP-06: Инфраструктура и интеграции (карта, экспорт, UI‑канал).
- WP-07: Команды и права, привести к новой архитектуре.
- WP-08: Тесты и проверки, расширить покрытие базовых сценариев.

## Constraints
- Использовать `ServiceRegistry` и модульный жизненный цикл.
- Не запускать `full_autotest` без явного разрешения.
- После каждого WP запускать `cd axiom-plugin && mvn -o test`.
- При изменениях UI‑канала запускать `python3 tools/validate_ui.py`.

## Acceptance Criteria
- Каждый WP завершён, критичные сценарии работают.
- Тесты `mvn -o test` зелёные после каждого WP.
- Документация и команды обновлены при изменениях.
