# Переработка плагина

## Goal
Полная переработка плагина AXIOM под новую идею: архитектура, логика, команды, данные, тесты.

## Context
Требуется полностью переработать плагин. Сейчас система непонятна. В работу входят все модули.
Идея проекта: военно‑политический‑индустриальный сервер.

## Docs
- `KEY_DOCS.md`
- `docs/PROJECT_SPEC.md`
- `docs/DEV_GUIDE.md`
- `axiom-plugin/docs/PLUGIN_INFO.md`
- `axiom-plugin/docs/PLUGIN_STRUCTURE.md`
- `axiom-plugin/docs/API_GUIDE.md`
- `axiom-plugin/docs/COMMANDS_REFERENCE.md`
- `axiom-plugin/docs/TESTING_GUIDE.md`

## Knowledge
- Текущая версия плагина и основные модули
- Существующие команды и права
- Автотесты (AutoTestBot/TestBot) и их отчёты
- Идея/концепция проекта: военно‑политический‑индустриальный сервер

## Concept
Военно‑политический‑индустриальный сервер: фокус на взаимодействии политики, экономики/индустрии и войны.

## Gameplay Loop (Draft)
1. Игрок/группа основывает поселение → получает базовые ресурсы и стартовые технологии.
2. Запускает производство (базовая индустрия) → строит инфраструктуру и экономику.
3. Вступает в политические взаимодействия: нации, союзы, договоры, торговля.
4. Развивает технологии → открывает новые производственные цепочки и военные возможности.
5. Ведёт войны/конфликты за ресурсы и влияние → получает территориальные/экономические выгоды.
6. Укрепляет государство/альянс, масштабирует индустрию и военную мощь → выходит на более высокий технологический уровень.

## Scope
- Все модули без исключений
- Дерево технологий и все прилегающие системы

## Systems
- Нации и территория
- Политика/дипломатия/союзы
- Экономика и валюта
- Индустрия/производственные цепочки
- Ресурсы и логистика
- Технологии (дерево)
- Война/армии/боёвка
- Баланс/рецепты/прогресс
- Команды/права/админка
- Автотесты/отчёты
- Интеграция с картой: территории по чанкам как квадраты

## Problems
- Система непонятна

## Requirements
- Все должно работать лучше и иначе

## Progression
- Ранний этап: старт и базовые механики
- Далее: первые технологии → прогресс по дереву технологий

## Steps
1. Зафиксировать идею/концепцию и ключевой геймплейный цикл.
2. Снять карту текущих модулей/сервисов/данных и критических зависимостей.
3. Спроектировать новую архитектуру (слои, границы, сервисы, события, данные).
4. Разбить на подзадачи по модулям и приоритетам.
5. Последовательно переработать все модули с локальными тестами.
6. Запустить полный прогон автотестов и собрать отчёты.

## Acceptance Criteria
- Зафиксированная концепция и новая архитектура.
- Все модули переработаны согласно новой архитектуре.
- Ключевые функции работают лучше и иначе (по новой концепции).
- Автотесты проходят (или зафиксирован список известных проблем).
- Документация/команды обновлены, если требуется.

## Notes
- Нужны конкретные детали геймплейного цикла, иначе невозможно проектировать архитектуру.
