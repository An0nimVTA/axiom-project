#!/bin/bash
# ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ðº Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÑŽ AXIOM

set -e
cd "$(dirname "$0")"

echo "ðŸ§ª ÐŸÐžÐ”Ð“ÐžÐ¢ÐžÐ’ÐšÐ Ðš Ð¢Ð•Ð¡Ð¢ÐÐœ"
echo "======================"
echo ""

# 1. ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð²ÐµÑ€
echo "1ï¸âƒ£ ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°..."
pkill -f mohist 2>/dev/null || echo "   Ð¡ÐµÑ€Ð²ÐµÑ€ Ð½Ðµ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½"
sleep 2

# 2. Ð‘ÑÐºÐ°Ð¿ Ð´Ð°Ð½Ð½Ñ‹Ñ…
echo ""
echo "2ï¸âƒ£ Ð‘ÑÐºÐ°Ð¿ Ð´Ð°Ð½Ð½Ñ‹Ñ…..."
BACKUP_DIR="backups/test-$(date +%Y%m%d-%H%M%S)"
mkdir -p "$BACKUP_DIR"
cp -r server/plugins/AXIOM "$BACKUP_DIR/" 2>/dev/null || echo "   ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ Ð±ÑÐºÐ°Ð¿Ð°"
echo "   âœ… Ð‘ÑÐºÐ°Ð¿: $BACKUP_DIR"

# 3. ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð»Ð¾Ð³Ð¾Ð²
echo ""
echo "3ï¸âƒ£ ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° ÑÑ‚Ð°Ñ€Ñ‹Ñ… Ð»Ð¾Ð³Ð¾Ð²..."
rm -f server/logs/latest.log 2>/dev/null
echo "   âœ… Ð›Ð¾Ð³Ð¸ Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½Ñ‹"

# 4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð²
echo ""
echo "4ï¸âƒ£ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð²..."

PLUGIN_JAR="server/plugins/AXIOM.jar"
if [ -f "$PLUGIN_JAR" ]; then
    SIZE=$(du -h "$PLUGIN_JAR" | cut -f1)
    echo "   âœ… ÐŸÐ»Ð°Ð³Ð¸Ð½: $SIZE"
else
    echo "   âŒ ÐŸÐ»Ð°Ð³Ð¸Ð½ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½!"
    exit 1
fi

MOD_JAR=$(find ~/.minecraft/mods -name "axiomui*.jar" 2>/dev/null | head -1)
if [ -n "$MOD_JAR" ]; then
    SIZE=$(du -h "$MOD_JAR" | cut -f1)
    echo "   âœ… UI Ð¼Ð¾Ð´: $SIZE"
else
    echo "   âš ï¸  UI Ð¼Ð¾Ð´ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½ Ð² ~/.minecraft/mods/"
fi

# 5. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¼Ð¾Ð´Ð¾Ð² ÑÐµÑ€Ð²ÐµÑ€Ð°
echo ""
echo "5ï¸âƒ£ ÐœÐ¾Ð´Ñ‹ ÑÐµÑ€Ð²ÐµÑ€Ð°:"
ls -lh server/mods/*.jar 2>/dev/null | wc -l | xargs echo "   Ð’ÑÐµÐ³Ð¾ Ð¼Ð¾Ð´Ð¾Ð²:"

# 6. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ñ‡ÐµÐºÐ»Ð¸ÑÑ‚
echo ""
echo "6ï¸âƒ£ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ‡ÐµÐºÐ»Ð¸ÑÑ‚Ð°..."
cat > TEST_CHECKLIST.md << 'CHECKLIST'
# ðŸ§ª Ð§Ð•ÐšÐ›Ð˜Ð¡Ð¢ Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð¯

## âœ… ÐŸÐµÑ€ÐµÐ´ Ð·Ð°Ð¿ÑƒÑÐºÐ¾Ð¼
- [ ] Ð¡ÐµÑ€Ð²ÐµÑ€ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½
- [ ] Ð‘ÑÐºÐ°Ð¿ ÑÐ¾Ð·Ð´Ð°Ð½
- [ ] ÐŸÐ»Ð°Ð³Ð¸Ð½ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½
- [ ] UI Ð¼Ð¾Ð´ Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ð½ (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾)

## ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº
```bash
cd server
./start.sh
```
Ð–Ð´Ð°Ñ‚ÑŒ: "Done! For help, type help"

## ðŸŽ® Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹

### 1. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð°Ñ†Ð¸Ð¸
```
/axiom nation create Ð Ð¾ÑÑÐ¸Ñ
```
ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: "ÐÐ°Ñ†Ð¸Ñ Ð Ð¾ÑÑÐ¸Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð°!"

### 2. Ð—Ð°Ñ…Ð²Ð°Ñ‚ Ñ‚ÐµÑ€Ñ€Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸
```
/axiom claim
```
ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: "Ð§Ð°Ð½Ðº Ð·Ð°Ñ…Ð²Ð°Ñ‡ÐµÐ½ Ð´Ð»Ñ Ð½Ð°Ñ†Ð¸Ð¸ Ð Ð¾ÑÑÐ¸Ñ"

### 3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð±Ð°Ð»Ð°Ð½ÑÐ°
```
/axiom economy balance
```
ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð±Ð°Ð»Ð°Ð½Ñ Ð¸Ð³Ñ€Ð¾ÐºÐ°

### 4. UI Ð¼Ð¾Ð´
```
F1 Ð¸Ð»Ð¸ /axiomui
```
ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¼ÐµÐ½ÑŽ ÐºÐ¾Ð¼Ð°Ð½Ð´

### 5. Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° (ÐµÑÐ»Ð¸ Ð¼Ð¾Ð´ Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ð½)
```
/axiomui stats
```
ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ñ ÑÐµÑ€Ð²ÐµÑ€Ð°

### 6. Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸
```
/axiom tech list
```
ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¹

### 7. Ð”Ð¸Ð¿Ð»Ð¾Ð¼Ð°Ñ‚Ð¸Ñ
```
/axiom diplomacy status
```
ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð´Ð¸Ð¿Ð»Ð¾Ð¼Ð°Ñ‚Ð¸Ð¸

## ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Ð¼Ð¾Ð´â†”Ð¿Ð»Ð°Ð³Ð¸Ð½

### Ð•ÑÐ»Ð¸ Ð¼Ð¾Ð´ Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ð½:
1. ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ `/axiomui stats`
2. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ðµ **Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ** (Ð½Ðµ Ð¼Ð¾ÐºÐ¾Ð²Ñ‹Ðµ)
3. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð°Ñ†Ð¸ÑŽ â†’ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð´Ð¾Ð»Ð¶Ð½Ð° Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒÑÑ
4. Ð—Ð°Ñ…Ð²Ð°Ñ‚Ð¸Ñ‚ÑŒ Ñ‡Ð°Ð½Ðº â†’ Ñ‚ÐµÑ€Ñ€Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ð° ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒÑÑ

### ÐŸÑ€Ð¸Ð·Ð½Ð°ÐºÐ¸ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹:
- âœ… ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð½Ð°Ñ†Ð¸Ð¸ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÐµÑ‚ Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ð¾Ð¹
- âœ… Ð‘Ð°Ð»Ð°Ð½Ñ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÐµÑ‚ Ñ `/axiom economy balance`
- âœ… Ð¢ÐµÑ€Ñ€Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ = ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð·Ð°Ñ…Ð²Ð°Ñ‡ÐµÐ½Ð½Ñ‹Ñ… Ñ‡Ð°Ð½ÐºÐ¾Ð²
- âœ… ÐÐ°ÑÐµÐ»ÐµÐ½Ð¸Ðµ = ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ñ€Ð°Ð¶Ð´Ð°Ð½

## ðŸ› ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð±Ð°Ð³Ð¾Ð²

### 1. Ð£Ñ‚ÐµÑ‡ÐºÐ° Ð¿Ð°Ð¼ÑÑ‚Ð¸ (Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð°)
- ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ UI Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ€Ð°Ð·
- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ RAM ÑÐµÑ€Ð²ÐµÑ€Ð°: `htop` Ð¸Ð»Ð¸ `free -h`
- ÐÐµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ñ€Ð°ÑÑ‚Ð¸ Ð±ÐµÑÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ð¾

### 2. Ð¡Ð²ÑÐ·ÑŒ Ð¼Ð¾Ð´â†”Ð¿Ð»Ð°Ð³Ð¸Ð½
- Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ Ñ‡ÐµÑ€ÐµÐ· UI
- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð¾Ð½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

### 3. Ð›Ð¾Ð³Ð¸ Ð¾ÑˆÐ¸Ð±Ð¾Ðº
```bash
tail -f server/logs/latest.log | grep ERROR
```
ÐÐµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¾ÑˆÐ¸Ð±Ð¾Ðº ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ñ… Ñ AXIOM

## ðŸ“Š Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹

### Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð°Ñ†Ð¸Ð¹
- [ ] Ð—Ð°Ñ…Ð²Ð°Ñ‚ Ñ‚ÐµÑ€Ñ€Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
- [ ] Ð­ÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ°
- [ ] Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸
- [ ] UI Ð¼Ð¾Ð´ (Ð¼ÐµÐ½ÑŽ)
- [ ] UI Ð¼Ð¾Ð´ (Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ)
- [ ] Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ð¼Ð¾Ð´â†”Ð¿Ð»Ð°Ð³Ð¸Ð½

### ÐÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:
- [ ] _____________________
- [ ] _____________________

## ðŸ“ Ð—Ð°Ð¼ÐµÑ‚ÐºÐ¸

```
Ð”Ð¾Ð±Ð°Ð²ÑŒ ÑÑŽÐ´Ð° ÑÐ²Ð¾Ð¸ Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ñ...
```
CHECKLIST

echo "   âœ… TEST_CHECKLIST.md ÑÐ¾Ð·Ð´Ð°Ð½"

# 7. Ð“Ð¾Ñ‚Ð¾Ð²Ð¾
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âœ… Ð’Ð¡Ð Ð“ÐžÐ¢ÐžÐ’Ðž Ðš Ð¢Ð•Ð¡Ð¢ÐÐœ!"
echo ""
echo "ðŸ“‹ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸:"
echo ""
echo "   1. ÐŸÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ UI Ð¼Ð¾Ð´ (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾):"
echo "      cd axiom-mod-integration"
echo "      ./gradlew build"
echo "      cp build/libs/axiomui-0.1.0.jar ~/.minecraft/mods/"
echo ""
echo "   2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð²ÐµÑ€:"
echo "      cd server"
echo "      ./start.sh"
echo ""
echo "   3. Ð¡Ð»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‡ÐµÐºÐ»Ð¸ÑÑ‚Ñƒ:"
echo "      cat TEST_CHECKLIST.md"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
