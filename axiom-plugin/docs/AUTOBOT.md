# Автотест бот для AXIOM плагина

## Описание
Система автоматического тестирования команд и функций плагина AXIOM. Бот имитирует действия игрока для проверки корректности работы системы.

## Команды для тестирования

### Основные команды
- `/axiom help` - список всех команд
- `/nation create [название]` - создание нации
- `/nation claim` - захват территории
- `/nation unclaim` - освобождение территории
- `/nation list` - список всех наций

### Экономические команды
- `/wallet` - проверка баланса
- `/trade` - торговля с другими игроками/нациями
- `/bank` - банковская система
- `/stock` - фондовая биржа

### Дипломатические команды
- `/diplomacy` - дипломатия между нациями
- `/treaty` - заключение договоров
- `/ally` - союзы
- `/war` - объявление войны

### Системы управления
- `/city` - управление городами
- `/technology` - технологическое развитие
- `/religion` - религиозная система
- `/election` - выборы

## Запуск автотестов

### Подготовка тестовой среды
1. Установить отдельный тестовый сервер
2. Установить плагин AXIOM
3. Установить WorldEdit для быстрого создания мира

### Скрипт автобота

#### 1. Создание тестовых аккаунтов
```bash
# Используйте плагин Multiverse-Core для создания отдельного мира тестов
# или создайте временных игроков через серверную консоль
```

#### 2. Тестирование жизненного цикла нации
1. Создание нации:
   - `/nation create TestNation`
   - Проверка: нация создана успешно
   - Проверка: игрок стал лидером нации

2. Захват территории:
   - `/nation claim`
   - Проверка: территория захвачена
   - Проверка: нация владеет территорией

3. Добавление участников:
   - `/nation invite [игрок]`
   - Проверка: игрок приглашен
   - Проверка: игрок присоединился

4. Строительство:
   - Постройка в территории нации
   - Проверка: защита территории работает

#### 3. Тестирование экономики
1. Проверка баланса:
   - `/wallet`
   - Проверка: отображается начальный баланс

2. Перевод средств:
   - `/wallet pay [игрок] [сумма]`
   - Проверка: средства переведены
   - Проверка: балансы обновлены у обеих сторон

3. Банковская система:
   - `/bank deposit [сумма]`
   - `/bank withdraw [сумма]`
   - Проверка: средства корректно зачислены/списаны

#### 4. Тестирование дипломатии
1. Создание второй нации:
   - Войти под другим аккаунтом
   - Создать вторую нацию

2. Заключение договора:
   - `/treaty propose [нация] [тип]`
   - Проверка: предложение отправлено
   - Проверка: договор заключен

3. Объявление войны:
   - `/war declare [нация]`
   - Проверка: война объявлена
   - Проверка: статус войны отображается

#### 5. Тестирование боевой системы
1. Провоцирование конфликта:
   - Войти в территорию вражеской нации
   - Проверка: система распознает как конфликт

2. Защита территории:
   - Проверка: владельцы территории могут защищать её
   - Проверка: защита работает правильно

## Автоматизированные тесты

### Используемые инструменты
- Minecraft Forge/Fabric мод для автотестов (опционально)
- Bukkit/Spigot серверные команды
- WorldEdit для быстрой настройки тестовых миров

### Тест-кейсы

#### Тест: Создание нации
```
1. Ввести команду: /nation create TestNation
2. Ожидаемый результат: 
   - Сообщение об успешном создании
   - Игрок является лидером нации
   - Нация отображается в /nation list
```

#### Тест: Захват территории
```
1. Встать в чанк
2. Ввести команду: /nation claim
3. Ожидаемый результат:
   - Территория захвачена игроком
   - Территория принадлежит нации игрока
   - Другие игроки не могут строить
```

#### Тест: Экономическая система
```
1. Проверить начальный баланс: /wallet
2. Получить деньги (через /give или /eco give)
3. Перевести деньги другому игроку: /wallet pay [игрок] [сумма]
4. Ожидаемый результат:
   - Баланс отправителя уменьшился
   - Баланс получателя увеличился
   - Транзакция записана в историю
```

#### Тест: Дипломатия
```
1. Создать 2 нации
2. Предложить мирный договор: /treaty propose [нация] peace
3. Второй нацией принять предложение
4. Ожидаемый результат: нации находятся в мире
```

## Мониторинг и логирование

### Логи тестов
- Все действия автобота записываются в `plugins/AXIOM/logs/autobot.log`
- Ошибки и исключения фиксируются отдельно
- Статистика выполнения тестов сохраняется

### Критерии прохождения тестов
- 95% команд выполняются без ошибок
- Система сохраняет данные корректно
- Нет утечек памяти
- Производительность в пределах нормы (TPS > 18)

## Запуск регрессионных тестов
```bash
# Запуск всех тестов
/axiom test run all

# Запуск конкретной категории
/axiom test run economy
/axiom test run diplomacy
/axiom test run warfare

# Запуск теста с отчетом
/axiom test report full
```

## Планирование тестов
Тесты рекомендуется запускать:
- После каждого обновления плагина
- Перед крупными серверными обновлениями
- Еженедельно в автоматическом режиме
- При обнаружении багов для проверки фиксов