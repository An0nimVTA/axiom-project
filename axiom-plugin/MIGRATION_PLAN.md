# Поэтапный план миграции

## Этап 1: Подготовка инфраструктуры (Выполнено)
- [x] Создание новой структуры пакетов
- [x] Создание документации
- [x] Создание интерфейсов для ключевых сервисов (MilitaryService, SiegeService, EconomyService)
- [x] Создание адаптерных классов (MilitaryServiceAdapter, SiegeServiceAdapter, EconomyServiceAdapter)
- [x] Создание примеров новой архитектуры
- [x] Создание интерфейсов репозиториев (NationRepository, MilitaryRepository)
- [x] Создание JSON реализаций репозиториев
- [x] Создание контроллеров (MilitaryController)
- [x] Создание фабрики сервисов (ServiceFactory)
- [x] Создание примеров интеграции (NewAxiomIntegrationExample)
- [x] Создание утилит валидации (DataValidator)
- [x] Создание менеджера кэширования (CacheManager)
- [x] Интеграция кэширования и валидации в контроллеры

## Этап 2: Модели данных (2-3 дня)
- [ ] Перенос всех классов моделей в `com.axiom.model`
- [ ] Создание интерфейсов для моделей (если нужно)
- [ ] Добавить валидацию в модели
- [ ] Добавить методы-билдеры для удобного создания

## Этап 3: Репозитории (3-5 дней)
- [ ] Создать интерфейсы репозиториев
- [ ] Реализовать JSON репозитории
- [ ] Добавить кэширование
- [ ] Добавить транзакционность
- [ ] Тестирование репозиториев

## Этап 4: Сервисы (5-7 дней)
- [ ] MilitaryService → MilitaryServiceInterface
- [ ] SiegeService → SiegeServiceInterface
- [ ] EconomyService → EconomyServiceInterface
- [ ] DiplomacySystem → DiplomacyServiceInterface
- [ ] NationManager → NationServiceInterface

## Этап 5: Контроллеры (3-4 дня)
- [ ] Создать контроллеры для команд
- [ ] Перенести логику обработки команд
- [ ] Добавить валидацию ввода
- [ ] Улучшить обработку ошибок

## Этап 6: Главный класс (2 дня)
- [ ] Создать AxiomApplication.java
- [ ] Перенести логику инициализации
- [ ] Настроить Dependency Injection
- [ ] Тестирование всего приложения

## Этап 7: Оптимизация (3-5 дней)
- [ ] Оптимизация производительности
- [ ] Добавить логирование
- [ ] Улучшить обработку ошибок
- [ ] Добавить метрики

## Этап 8: Документация и тесты (3-4 дня)
- [ ] Обновить всю документацию
- [ ] Написать интеграционные тесты
- [ ] Написать модульные тесты
- [ ] Создать примеры использования

## Оценка времени: 3-4 недели

## Приоритеты:
1. Не ломать существующий функционал
2. Постепенная миграция
3. Тестирование на каждом этапе
4. Документация изменений
